"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createEsmPreset = void 0;
const utils_1 = require("./utils");
const createEsmPreset = (options = {}) => {
    const { testEnvironment, ...rest } = options;
    return {
        ...utils_1.basePresetConfig,
        testEnvironment: testEnvironment ?? utils_1.basePresetConfig.testEnvironment,
        extensionsToTreatAsEsm: ['.ts'],
        moduleNameMapper: {
            tslib: 'tslib/tslib.es6.js',
        },
        transformIgnorePatterns: ['node_modules/(?!tslib)'],
        transform: {
            '^.+\\.(ts|js|html|svg)$': [
                'jest-preset-angular',
                {
                    tsconfig: '<rootDir>/tsconfig.spec.json',
                    stringifyContentPathRegex: '\\.(html|svg)$',
                    useESM: true,
                    ...rest,
                },
            ],
        },
    };
};
exports.createEsmPreset = createEsmPreset;
